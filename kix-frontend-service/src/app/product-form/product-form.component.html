<form [formGroup]="product">
    <mat-form-field appearance="fill">
        <mat-label>Product name</mat-label>
        <input type="text" matInput placeholder="Gathered strappy mini dress" formControlName="productName">
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
        <mat-label>Product description</mat-label>
        <textarea cols="40" rows="10" matInput
            placeholder="Strappy mini dress with gathered detail on the chest. Made of viscose."
            formControlName="productDescription"></textarea>
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
        <mat-label>Product price</mat-label>
        <input matInput type="number" formControlName="productPrice">
        <span matSuffix>â‚¬</span>
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Product Category</mat-label>
        <mat-select formControlName="productCategory">
            <mat-option *ngFor="let category of categories" [value]="category.value">{{category.category}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Product Color</mat-label>
        <mat-select formControlName="productColor">
            <mat-option *ngFor="let color of colors.sort()" [value]="color.value">{{color.color}}</mat-option>
        </mat-select>
    </mat-form-field>
    <mat-list>
        <div mat-subheader>Product Images</div>
        <mat-list-item *ngFor="let image of images; let i=index">
            <img matListAvatar src="data:image/jpeg;base64,{{image.image}}">
            <div mat-line>{{image.name}}</div>
            <div mat-line> {{(image.size / (1024*1024)).toFixed(2)}} MB</div>
            <mat-action-list>
                <button mat-fab color="primary" (click)="deleteImage(i)">
                    <mat-icon (click)="deleteImage(i)">delete</mat-icon>
                </button>
            </mat-action-list>
            <mat-divider></mat-divider>
        </mat-list-item>
    </mat-list>
    <button mat-flat-button color="primary" (click)="insertImage()">
        INSERT IMAGE <mat-icon>add_photo_alternate</mat-icon>
    </button>
    <br>
    <button mat-flat-button color="primary" (click)="createProduct()"
        [disabled]="product.invalid || images.length == 0">
        CREATE PRODUCT <mat-icon>add</mat-icon>
    </button>
    <input id="insert-image" type="file" hidden multiple accept="image/jpeg">
</form>